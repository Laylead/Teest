<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
</head>
<body>
  <h2>Admin Dashboard</h2>
  <p>Paste call code or open from Telegram link</p>

  <input type="text" id="codeInput" placeholder="Enter 6-digit code" maxlength="6">
  <button id="joinBtn" onclick="joinCall()" disabled>Join Call</button>

  <script>
    const input = document.getElementById("codeInput");
    const button = document.getElementById("joinBtn");

    function joinCall() {
      const code = input.value.trim();
      if (code.length === 6) {
        window.open(`call.html?channel=${code}&role=admin`, "_blank");
      }
    }

    input.addEventListener("input", () => {
      button.disabled = input.value.length !== 6;
    });

    // Auto-fill from URL
    const urlParams = new URLSearchParams(window.location.search);
    const codeFromURL = urlParams.get("code");
    if (codeFromURL && codeFromURL.length === 6) {
      input.value = codeFromURL;
      button.disabled = false;
    }
  </script>
</body>
</html>
